(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34afbe5c"],{"2f1f":function(e,t,s){"use strict";s.r(t);var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",height:"800px","flex-wrap":"wrap"}},[s("div",{staticStyle:{border:"1px solid #000000",position:"relative"},style:{width:e.WIDTH+"px",height:e.HEIGHT+"px"},on:{click:e.clearSelected,mouseup:e.clearDrag}},[e._l(e.objs,(function(t,l){return[s("div",{ref:"refArr",refInFor:!0,staticClass:"test-m",class:e.selectedElement===l?"selected-m":e.passElement===l?"pass-m":"default-m",staticStyle:{"background-color":"#e7eaec",display:"flex","justify-content":"center","align-items":"center"},style:{left:t.x+"px",top:t.y+"px",width:t.w+"px",height:t.h+"px"},on:{mouseover:function(t){return e.mousePass(l)},mouseout:e.mouseLeave,click:function(t){return e.mouseClick(l)},mousedown:function(t){return e.mouseDown(l,arguments)},mousemove:function(t){return e.mouseMove(l,arguments)}}},["text"===t.type?[s("div",{staticStyle:{cursor:"default"}},[e._v("\n            "+e._s(t.content)+"\n          ")])]:"img"===t.type?[s("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.content,draggable:"false",fit:"fill",lazy:""}},[s("div",{attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-document"})])])]:e._e()],2)]}))],2),e._v(" "),s("div",[s("div",{staticClass:"block",staticStyle:{width:"400px"}},[s("span",[e._v("宽度: ")]),e._v(" "),s("el-slider",{attrs:{disabled:!e.selectedElement&&0!==e.selectedElement,max:e.WIDTH},on:{input:e.sliderChangeWidth},model:{value:e.currentElementWidth,callback:function(t){e.currentElementWidth=t},expression:"currentElementWidth"}}),e._v(" "),s("span",[e._v("高度: ")]),e._v(" "),s("el-slider",{attrs:{disabled:!e.selectedElement&&0!==e.selectedElement,max:e.HEIGHT},on:{input:e.sliderChangeHeight},model:{value:e.currentElementHeight,callback:function(t){e.currentElementHeight=t},expression:"currentElementHeight"}})],1)])])},i=[],n={name:"test",data:function(){return{WIDTH:400,HEIGHT:700,passElement:"",selectedElement:null,syncFlag:!1,dragFlag:!1,qwe:null,leftForParent:0,topForParent:0,currentElementWidth:0,currentElementHeight:0,oldX:null,oldY:null,oldValueX:null,oldValueY:null,objs:[{id:"t1",x:100,y:100,w:70,h:70,content:"123456"},{id:"t2",x:23,y:44,w:70,h:70,content:"ABCDEF"}]}},methods:{addImgResource:function(e){this.objs=this.objs.concat({x:0,y:0,w:70,h:70,type:"img",content:e}),this.selectedElement=this.objs.length-1},addTextResource:function(e){this.objs=this.objs.concat({x:0,y:0,w:70,h:70,type:"text",content:e}),this.selectedElement=this.objs.length-1},sliderChangeWidth:function(e){this.objs[this.selectedElement]&&(this.oldValueX||(this.oldValueX=e),e+this.objs[this.selectedElement].x>this.WIDTH?this.objs[this.selectedElement].x=this.WIDTH-e:this.oldX&&this.objs[this.selectedElement].x<this.oldX&&this.oldValueX&&(this.objs[this.selectedElement].x+=this.oldValueX-e),this.objs[this.selectedElement].w=e,this.oldValueX=e)},sliderChangeHeight:function(e){this.objs[this.selectedElement]&&(this.oldValueY||(this.oldValueY=e),e+this.objs[this.selectedElement].y>this.HEIGHT?this.objs[this.selectedElement].y=this.HEIGHT-e:this.oldY&&this.objs[this.selectedElement].y<this.oldY&&this.oldValueY&&(this.objs[this.selectedElement].y+=this.oldValueY-e),this.objs[this.selectedElement].h=e,this.oldValueY=e)},mouseMove:function(e,t){var s=t[0];if(this.dragFlag){var l=s.offsetX+this.$refs.refArr[e].offsetLeft;this.objs[e].x+l-this.leftForParent>=0&&this.objs[e].x+l-this.leftForParent<=this.WIDTH-this.objs[e].w&&(this.objs[e].x+=l-this.leftForParent,this.leftForParent=l);var i=s.offsetY+this.$refs.refArr[e].offsetTop;this.objs[e].y+i-this.topForParent>=0&&this.objs[e].y+i-this.topForParent<=this.HEIGHT-this.objs[e].h&&(this.objs[e].y+=i-this.topForParent,this.topForParent=i)}},clearDrag:function(){this.dragFlag=!1},mouseDown:function(e,t){if(this.selectedElement===e){var s=t[0];this.leftForParent=s.offsetX+this.$refs.refArr[e].offsetLeft,this.topForParent=s.offsetY+this.$refs.refArr[e].offsetTop,this.dragFlag=!0}},clearSelected:function(){var e=this;this.qwe=setTimeout((function(){e.syncFlag?e.syncFlag=!1:(e.selectedElement=null,e.currentElementWidth=0,e.currentElementHeight=0,e.oldX=null,e.oldY=null,e.oldValueX=null,e.oldValueY=null)}),50)},mousePass:function(e){this.passElement=e},mouseLeave:function(){this.passElement=""},mouseClick:function(e){this.qwe&&clearTimeout(this.qwe),this.syncFlag=!0,this.selectedElement=e,this.currentElementWidth=this.objs[this.selectedElement].w,this.currentElementHeight=this.objs[this.selectedElement].h,this.oldX=this.objs[this.selectedElement].x,this.oldY=this.objs[this.selectedElement].y}}},o=n,h=(s("434b"),s("2877")),r=Object(h["a"])(o,l,i,!1,null,"2d8b6bee",null);t["default"]=r.exports},"434b":function(e,t,s){"use strict";s("9e45")},"9e45":function(e,t,s){}}]);